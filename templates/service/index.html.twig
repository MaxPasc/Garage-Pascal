{% extends 'base.html.twig' %}

{% block title %}Hello ServiceController!{% endblock %}

{% block body %}

<h1>Liste des service</h1>

{% if is_granted("ROLE_ADMIN") %}
<div>
    <button><a href="{{ path('services_create') }}">ðŸ”’ Ajouter un service</a></button>
</div>
{% endif %}

<table>
    <thead>
        <th scope="col">Service</th>
        <th scope="col">Description</th>
        <th scope="col">Prix</th>
        {% if is_granted("ROLE_ADMIN") %}
            <th scope="col">Modifier</th>
            <th scope="col">Supprimer</th>
        {% endif %}
    </thead>

    <tbody>
        {% for service in services %}
        <tr>
            <td>{{ service.name }}</td>
            <td>{{ service.description }}</td>
            <td>{{ service.price }}</td>
            {% if is_granted("ROLE_ADMIN") %}
                <td>
                    <button class="btn"><a href="{{ path('services_edit', {"id": service.id}) }}">ðŸ”’ Modifier</a></button>
                </td>
                <td>
                    <button class="btn"><a href="{{ path('services_delete', {"id": service.id}) }}">ðŸ”’ Supprimer</a></button>
                </td>
            {% endif %}
        </tr>
        {% endfor %}
    </tbody>

</table>


{% endblock %}